"use strict";(self.webpackChunkatelier=self.webpackChunkatelier||[]).push([[733],{1733:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var n=r(5671),a=r(3144),l=r(136),c=r(6215),o=r(1120),i=r(7294),u=(r(3935),r(9755),r(1463)),s=r(6784),d=r(9583),f=r(3750),m=r(8491),h=r(779),p=r(1945),v=r(5147),y=r(5155);function g(e){var t=e.current,r=e.description,n=e.compared;return i.createElement("tr",null,i.createElement("td",null,t||""),i.createElement("td",{className:"description"},r),i.createElement("td",null,n||""))}const E=function(e){var t=e.show,r=e.comparedProductInfo,n=e.currentProductInfo,a=e.changeShow,l=n.features,c=r.features,o=[],u=new Set;return function(){for(var e=0;e<l.length;e++){o[e]=[],o[e][0]=l[e].feature,o[e][1]=l[e].value,u.add(l[e].feature);for(var t=0;t<c.length;t++)c[t].feature===l[e].feature?o[e][2]=c[t].value:o[e][2]=""}for(e=0;e<c.length;e++)u.has(c[e].feature)||(o[o.length]=[c[e].feature,"",c[e].value])}(),i.createElement("div",null,i.createElement(h.Z,{show:t,onHide:a,size:"lg"},i.createElement(h.Z.Header,{closeButton:!0},i.createElement(h.Z.Title,null,"Comparing")),i.createElement(h.Z.Body,null,i.createElement(v.Z,null,i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",{className:"currentTitle"},n.name),i.createElement("th",null),i.createElement("th",null,r.name))),i.createElement("tbody",null,i.createElement(g,{current:n.slogan,description:"slogan",compared:r.slogan}),i.createElement(g,{current:n.description,description:"description",compared:r.description}),i.createElement(g,{current:n.default_price,description:"default price",compared:r.default_price}),i.createElement(g,{current:n.category,description:"category",compared:r.category}),o.length>0&&o.map((function(e,t){return i.createElement(g,{key:t,current:!0===e[1]&&i.createElement(y.pZQ,null)||e[1],description:e[0],compared:!0===e[2]&&i.createElement(y.pZQ,null)||e[2]})}))))),i.createElement(h.Z.Footer,null,i.createElement(p.Z,{variant:"secondary",onClick:function(){return a()}},"Close"))))};function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const w=function(e){(0,l.Z)(p,e);var t,r,h=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,o.Z)(t);if(r){var a=(0,o.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(e){var t;return(0,n.Z)(this,p),(t=h.call(this,e)).state={relatedProductInfo:null,relatedProductStyle:null,defaultItem:null,reviewRating:0,show:!1},t.starClicked=!1,t}return(0,a.Z)(p,[{key:"changeShow",value:function(){this.setState({show:!1})}},{key:"componentDidMount",value:function(){var e=this;this.update(),(0,m.Jh)(this.props.id,(function(t){var r=t.ratings,n=Object.keys(r),a=0,l=0,c=0;if(n.length>0){var o,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){o=!0,l=e},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw l}}}}(n);try{for(i.s();!(o=i.n()).done;){var u=o.value;a+=Number(u)*Number(r[u]),l+=Number(r[u])}}catch(e){i.e(e)}finally{i.f()}c=a/l}else c=-1;e.setState({reviewRating:c})}))}},{key:"update",value:function(){var e=this;(0,m.yO)(this.props.id,(function(t){e.setState({relatedProductInfo:t})})),(0,m.Ll)(this.props.id,(function(t){e.setState({relatedProductStyle:t}),e.getDefaultItem(t.results)}))}},{key:"rating",value:function(e){if(-1!==e)return i.createElement(s.Z,{spacing:1},i.createElement(u.Z,{name:"read-only",size:"small",value:e,precision:.1,readOnly:!0}))}},{key:"getDefaultItem",value:function(e){var t=e.filter((function(e){return e["default?"]}));t=0===t.length?e[0]:t[0],this.setState({defaultItem:t})}},{key:"price",value:function(e){return null===e.sale_price?i.createElement("p",{className:"originalPrice"},e.original_price):i.createElement("div",null,i.createElement("p",{className:"crossOutOriginalPrice"},e.original_price),i.createElement("p",{className:"salePrice"},e.sale_price))}},{key:"render",value:function(){var e=this;return i.createElement("div",null,i.createElement("div",{className:"card",onClick:function(){!1===e.starClicked?e.props.changeCurrentProductId(e.state.relatedProductInfo.id):e.starClicked=!1}},null!==this.state.defaultItem&&i.createElement("div",{className:"image-holder"},i.createElement("img",{src:this.state.defaultItem.photos[0].thumbnail_url,className:"card-img-top",alt:this.state.defaultItem.name})),i.createElement("div",{className:"card-body"},null!==this.state.relatedProductInfo&&i.createElement("h6",{className:"card-subtitle mb-2 text-muted"},this.state.relatedProductInfo.category),null!==this.state.relatedProductInfo&&i.createElement("h5",{className:"card-title"},this.state.relatedProductInfo.name),null!==this.state.defaultItem&&this.price(this.state.defaultItem),this.rating(this.state.reviewRating)),this.state.show&&i.createElement(E,{show:this.state.show,comparedProductInfo:this.state.relatedProductInfo,currentProductInfo:this.props.currentProductInfo,changeShow:this.changeShow.bind(this)})),"related"===this.props.type&&i.createElement(d.jJN,{className:"icon",onClick:function(t){e.starClicked=!0,e.setState({show:!0})}}),"outfit"===this.props.type&&i.createElement(f.C7Q,{className:"icon",onClick:function(t){e.props.deleteOutfit(e.props.id)}}))}}]),p}(i.Component)}}]);